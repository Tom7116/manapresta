{% extends 'base.html.twig' %}

{% block body %}

    <div class="container-fluid">
        <div class="col-md-6 offset-md-3 card pb-3">

            <h2 class="text-center mb-4">Modifier une prestation</h2>

            <div class="container text-center">
                {{ form_start(edit_form) }}

                    <div class="row text-center">
                        <div class="col-md-4">
                            {{ form_row(edit_form.employer, {'label': 'Employeur'}) }}
                        </div>
                        <div class="col-md-8">
                            {{ form_row(edit_form.place, {'label': 'Lieu'}) }}
                        </div>
                    </div>

                    <div class="d-flex justify-content-around">
                        {{ form_row(edit_form.startTime, {'label': 'DÃ©but'}) }}
                    </div>

                    <div class="d-flex justify-content-around">
                        {{ form_row(edit_form.endTime, {'label': 'Fin'}) }}
                    </div>

                    <div class="row text-center">
                        <div class="col-md-5">
                            {{ form_row(edit_form.grossHonorary, {'label': 'Honoraire BRUT', 'type': 'number', 'attr': {'step': 0.25, 'min': 0}}) }}
                        </div>
                        <div class="col-md-2 mt-4">OU</div>
                        <div class="col-md-5">
                            {{ form_row(edit_form.netHonorary, {'label': 'Honoraire NET', 'type': 'number', 'attr': {'step': 0.25, 'min': 0}}) }}
                        </div>
                    </div>

                    <div class="d-flex justify-content-around mt-3">
                        <a href="{{ previousPath }}" class="btn btn-outline-dark darkRedColor"><i class="fas fa-arrow-left"></i> Retour</a>
                        <div class="text-right"><button class="btn btn-outline-dark darkRedColor" type="submit">Enregistrer</button></div>
                    </div>

                {{ form_end(edit_form) }}
            </div>

        </div>
    </div>

{% endblock %}

{% block js %}

    <script>
        $(document).ready(function() {
            $('input[id="prestation_grossHonorary"]').keyup(function() {
                let $f = $('input[id="prestation_netHonorary"]');
                ($(this).val() != '') ? $f.attr('disabled', true) : $f.attr('disabled', false);
            });
        });

        $(document).ready(function() {
            $('input[id="prestation_netHonorary"]').keyup(function() {
                let $f = $('input[id="prestation_grossHonorary"]');
                ($(this).val() != '') ? $f.attr('disabled', true) : $f.attr('disabled', false);
            });
        });

        if (!$('input[id="prestation_grossHonorary"]').val()) {
            $('input[id="prestation_grossHonorary"]').attr('disabled', true);
        } else {
            $('input[id="prestation_netHonorary"]').attr('disabled', true);
        }
    </script>

{% endblock %}
